<div class="view-header">
  <h1>Administra las categor√≠as de equipos y consumibles</h1>
</div>

<div class="form-section">
  <form [formGroup]="categoryForm" (ngSubmit)="submitForm()">
    <div>
      <label for="name">Nombre</label>
      <input id="name" type="text" formControlName="name" placeholder="Nombre" />
    </div>

    <div>
      <label for="description">Descripci√≥n</label>
      <input id="description" type="text" formControlName="description" placeholder="Descripci√≥n" />
    </div>

    <div>
      <label for="type">Tipo</label>
      <select id="type" formControlName="type">
        <option [value]="0">Equipos</option>
        <option [value]="1">Consumibles</option>
      </select>
    </div>

    <div class="form-buttons">
      <button type="submit" [disabled]="categoryForm.invalid">
        {{ isEditing ? 'Actualizar' : 'Crear' }}
      </button>
      <button type="button" class="cancel-btn" *ngIf="isEditing" (click)="resetForm()">Cancelar</button>
    </div>
  </form>
</div>

<div class="table-section">
  <h3>Listado de Categor√≠as</h3>
  <table>
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Descripci√≥n</th>
        <th>Tipo</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let cat of categories">
        <td>{{ cat.name }}</td>
        <td>{{ cat.description }}</td>
        <td>{{ getTypeLabel(cat.type) }}</td>
        <td class="actions">
          <button (click)="editCategory(cat)">Editar</button>
          <button (click)="confirmDelete(cat.id)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<!-- üü¢ Mensaje de √©xito -->
<div class="message-box success" *ngIf="successMessage">
  <div class="icon">‚úîÔ∏è</div>
  {{ successMessage }}
</div>

<!-- üî¥ Mensaje de error -->
<div class="message-box error" *ngIf="errorMessage">
  <div class="icon">‚ùå</div>
  {{ errorMessage }}
</div>

<!-- üü† Confirmaci√≥n de eliminaci√≥n -->
<div id="confirm-backdrop" *ngIf="confirmId !== null">
  <div id="confirm-modal">
    <div id="confirm-header">
      Confirmar Eliminaci√≥n
      <button id="confirm-close-btn" (click)="confirmId = null">&times;</button>
    </div>
    <div id="confirm-body">
      ¬øEst√°s seguro de eliminar esta categor√≠a?
      <div id="confirm-buttons">
        <button class="btn-green" (click)="deleteCategory(confirmId!)">S√≠, eliminar</button>
        <button class="btn-yellow" (click)="confirmId = null">Cancelar</button>
      </div>
    </div>
  </div>
</div>
