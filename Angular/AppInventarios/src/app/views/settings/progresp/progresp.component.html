<div class="backup-settings-container"> 
  <h2>Configuración de Respaldo Automático</h2>

  <label for="tipo">Tipo de respaldo:</label>
  <select [(ngModel)]="tipo" (change)="onTipoChange()" id="tipo">
    <option value="diario">Diario</option>
    <option value="semanal">Semanal</option>
    <option value="mensual">Mensual</option>
    <option value="anual">Anual</option>
  </select>

  <div *ngIf="tipo === 'semanal'" class="field">
    <label for="diaSemana">Día de la semana:</label>
    <select [(ngModel)]="diaSemana" id="diaSemana">
      <option *ngFor="let d of dias" [value]="d">{{ d }}</option>
    </select>
  </div>

  <div *ngIf="tipo === 'mensual'" class="field">
    <label for="diaMes">Día del mes (máx. 28):</label>
    <input type="number" [(ngModel)]="diaMes" (change)="validarDiaMes()" min="1" max="28" id="diaMes" />
  </div>

  <div *ngIf="tipo === 'anual'" class="field">
    <label for="mesAnual">Mes del año:</label>
    <select [(ngModel)]="mesAnual" id="mesAnual">
      <option *ngFor="let m of meses" [value]="m">{{ m }}</option>
    </select>

    <label for="diaAnual">Día del mes (máx. 28):</label>
    <input type="number" [(ngModel)]="diaAnual" (change)="validarDiaAnual()" min="1" max="28" id="diaAnual" />
  </div>

  <div class="field">
    <label for="hora">Hora de respaldo:</label>
    <div class="hora-picker">
      <select [(ngModel)]="horaSeleccionada">
        <option *ngFor="let h of horas" [value]="h">{{ h }}</option>
      </select>
      :
      <select [(ngModel)]="minutoSeleccionado">
        <option *ngFor="let m of minutos" [value]="m">{{ m }}</option>
      </select>
      <select [(ngModel)]="meridiano">
        <option value="AM">AM</option>
        <option value="PM">PM</option>
      </select>
    </div>
  </div>

  <button (click)="guardarConfiguracion()">Guardar configuración</button>

  <p *ngIf="ultimoBackup">
    Último respaldo generado: <strong>{{ ultimoBackup | date:'short' }}</strong>
  </p>
</div>
